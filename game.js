var Game=function(){function e(e,r){null==e||null==r?(t=3,n=6):(t=e,n=r),i()}var t,n,r=0,o=0,a=[],u=1,l=6,i=function(){var e=document.getElementById("input_DiceCount").value;if(t>e||e>n||isNaN(e)||e%1!=0)return void alert("You must select a natural (whole) number between "+t+" and "+n+"!");a=new Dice(e,u,l),v("setup"),v("input_DiceCount"),document.getElementById("topText").innerHTML="Play to roll, End to stop the game.",h("Play","Game.prototype.play()","buttons"),h("End","Game.prototype.end()","buttons");var r=document.createElement("h2");r.innerHTML="Results So Far",r.setAttribute("id","Results");var o=["Rounds Played","Points Won","Total Points"],i=["roundsPlayed","roundPoints","totalPoints"];y(o,i),g(r,document.getElementById("buttons"))};e.prototype.play=function(){r++,a.rollAll();var e=a.getLastRoll(),t=a.getSumValues(),n=d(e,t);o+=n,b(n),E(e)},e.prototype.end=function(){var e=["playTable","Play","End","diceImages","topText","Roll","Results"];p(e);var t=["Rounds Played","Total Points","Points Per Round"],n=["roundsPlayed","totalPoints","averagePoints"];y(t,n),B();var r=document.createElement("h2");r.innerHTML="Final Results",r.setAttribute("id","final results"),document.getElementById("playTable").parentNode.insertBefore(r,document.getElementById("playTable"))};var d=function(e,t){var n=0,r=e.slice();return r.sort(),c(r)?n=60+t:s(r,l-u+1)?n=40+t:m(r)?n=20+t:f(r)&&(n=0+t),n},c=function(e){for(var t=0;t<e.length-1;t++){var n=e[t]==e[t+1];if(!n)return!1}return!0},s=function(e,t){var n=e.length,r=new Array(t),o=0;if(2>n)return!1;for(var a=0;n>a;a++){var u=e[a]-1;if(void 0==r[u]){if(r[u]=1,o++,o>2)return!1}else{var l=r[u]+1;r[u]=l}}var i=r[e[0]-1];return 1!=i&&i!=n-1?!1:!0},m=function(e){for(var t=0;t<e.length-1;t++){var n=e[t+1]-e[t];if(1!=n)return!1}return!0},f=function(e){for(var t=0;t<e.length;t++){var n=e[t+1]==e[t];if(n)return!1}return!0},p=function(e){for(var t=0;t<e.length;t++){var n=e[t];v(n)}},v=function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)},g=function(e,t){t.parentNode.insertBefore(e,t.nextElementSibling)},y=function(e,t){var n=document.createElement("table");n.setAttribute("id","playTable");for(var r=0;r<e.length;r++){var o=document.createElement("tr"),a=document.createElement("th"),u=document.createElement("td");n.appendChild(o),o.appendChild(a),a.innerHTML=e[r],a.appendChild(u),u.innerHTML="-",u.id=t[r]}g(n,document.getElementById("buttons"))},h=function(e,t,n){var r=document.createElement("button");r.innerHTML=e,r.setAttribute("id",e),r.setAttribute("onclick",t),document.getElementById(n).appendChild(r)},E=function(e){for(var t=0;t<e.length;t++){var n=new Image,o="Images_Assignment_2/baseline_looks_"+e[t]+"_black_48dp.png";if(n.src=o,n.id="diceImgs"+t,1==r){if(1==t){var a=document.createElement("h2");a.innerHTML="Last Roll",a.setAttribute("id","Roll"),a.setAttribute("title","Numeric image representing the die value "+e[t]+" Sourced from https://material.io/resources/icons/?style=baseline/"),g(a,document.getElementById("playTable"))}document.getElementById("diceImages").appendChild(n)}else{var u="diceImgs"+t;document.getElementById(u).src=o,document.getElementById(u).setAttribute("title","Numeric image representing the die value "+e[t]+" Sourced from https://material.io/resources/icons/?style=baseline/")}}},b=function(e){document.getElementById("roundsPlayed").innerHTML=r,document.getElementById("roundPoints").innerHTML=e,document.getElementById("totalPoints").innerHTML=o},B=function(){var e=o/r;e=Math.round(10*e)/10,document.getElementById("roundsPlayed").innerHTML=r,document.getElementById("totalPoints").innerHTML=o,document.getElementById("averagePoints").innerHTML=e};return e}(),Dice=function(){function e(e,o,a){t=e,n=o,r=a,u()}var t,n,r,o,a=[],u=function(){if(!l())throw"Upper Bound must be greater than or equal to Lower Bound";for(var e=0;t>e;e++){var o=new Die(n,r);a.push(o)}},l=function(){return n>r?!1:!0};return e.prototype.rollAll=function(){o=[];for(var e=0;e<a.length;e++){var t=a[e].roll();o.push(t)}},e.prototype.getLastRoll=function(){return o},e.prototype.getSumValues=function(){for(var e=0,t=0;t<o.length;t++){var n=o[t];e+=n}return e},e}(),Die=function(){function e(e,o){if(t=e,n=o,!r())throw"Upper Bound must be larger than Lower Bound!"}var t,n,r=function(){return t>=n?!1:!0};return e.prototype.roll=function(){var e=Math.random()*n+t,r=Math.floor(e);return r},e}();